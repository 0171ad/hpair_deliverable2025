{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getFormSubmissions,getSubmissionCount}from'../services/firebaseService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPanel=()=>{const[submissions,setSubmissions]=useState([]);const[submissionCount,setSubmissionCount]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{loadSubmissions();},[]);const loadSubmissions=async()=>{try{setLoading(true);const[submissionsResult,countResult]=await Promise.all([getFormSubmissions(),getSubmissionCount()]);if(submissionsResult.success){setSubmissions(submissionsResult.data);}else{setError(submissionsResult.message);}if(countResult.success){setSubmissionCount(countResult.count);}}catch(err){setError('Failed to load submissions');console.error('Error loading submissions:',err);}finally{setLoading(false);}};const formatDate=timestamp=>{if(!timestamp)return'N/A';return new Date(timestamp.seconds*1000).toLocaleString();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading submissions...\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Form Submissions Admin Panel\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total submissions: \",submissionCount]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"submit-message error\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:loadSubmissions,className:\"btn btn-primary\",style:{marginBottom:'20px'},children:\"Refresh\"}),submissions.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No submissions yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"submissions-list\",children:submissions.map(submission=>/*#__PURE__*/_jsxs(\"div\",{className:\"submission-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"submission-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Submission #\",submission.id.slice(-8)]}),/*#__PURE__*/_jsx(\"span\",{className:\"submission-date\",children:formatDate(submission.submittedAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"submission-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",submission.firstName,\" \",submission.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date of Birth:\"}),\" \",submission.dateOfBirth]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gender:\"}),\" \",submission.gender]})]})]},submission.id))})]})});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useEffect","getFormSubmissions","getSubmissionCount","jsx","_jsx","jsxs","_jsxs","AdminPanel","submissions","setSubmissions","submissionCount","setSubmissionCount","loading","setLoading","error","setError","loadSubmissions","submissionsResult","countResult","Promise","all","success","data","message","count","err","console","formatDate","timestamp","Date","seconds","toLocaleString","className","children","onClick","style","marginBottom","length","map","submission","id","slice","submittedAt","firstName","lastName","dateOfBirth","gender"],"sources":["/Users/natalia_mac/deliverable_hpair/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getFormSubmissions, getSubmissionCount } from '../services/firebaseService';\n\nconst AdminPanel = () => {\n  const [submissions, setSubmissions] = useState([]);\n  const [submissionCount, setSubmissionCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    loadSubmissions();\n  }, []);\n\n  const loadSubmissions = async () => {\n    try {\n      setLoading(true);\n      const [submissionsResult, countResult] = await Promise.all([\n        getFormSubmissions(),\n        getSubmissionCount()\n      ]);\n\n      if (submissionsResult.success) {\n        setSubmissions(submissionsResult.data);\n      } else {\n        setError(submissionsResult.message);\n      }\n\n      if (countResult.success) {\n        setSubmissionCount(countResult.count);\n      }\n    } catch (err) {\n      setError('Failed to load submissions');\n      console.error('Error loading submissions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (timestamp) => {\n    if (!timestamp) return 'N/A';\n    return new Date(timestamp.seconds * 1000).toLocaleString();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"form-container\">\n          <h2>Loading submissions...</h2>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"form-container\">\n        <h1>Form Submissions Admin Panel</h1>\n        <p>Total submissions: {submissionCount}</p>\n        \n        {error && (\n          <div className=\"submit-message error\">\n            {error}\n          </div>\n        )}\n\n        <button \n          onClick={loadSubmissions} \n          className=\"btn btn-primary\"\n          style={{ marginBottom: '20px' }}\n        >\n          Refresh\n        </button>\n\n        {submissions.length === 0 ? (\n          <p>No submissions yet.</p>\n        ) : (\n          <div className=\"submissions-list\">\n            {submissions.map((submission) => (\n              <div key={submission.id} className=\"submission-item\">\n                <div className=\"submission-header\">\n                  <h3>Submission #{submission.id.slice(-8)}</h3>\n                  <span className=\"submission-date\">\n                    {formatDate(submission.submittedAt)}\n                  </span>\n                </div>\n                <div className=\"submission-details\">\n                  <p><strong>Name:</strong> {submission.firstName} {submission.lastName}</p>\n                  <p><strong>Date of Birth:</strong> {submission.dateOfBirth}</p>\n                  <p><strong>Gender:</strong> {submission.gender}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}